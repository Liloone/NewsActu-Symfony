{% extends 'base.html.twig' %}

{% block body %}

	<h1 class="text-center mt-3">{{ category.name | capitalize }}</h1>

	{% for article in articles %}

		<div class="row">

			<div class="col-8.mx-auto">
				<hr>

				<div class="card mb-3" style="max-width: 100%;">
					<div class="row g-0">
						<div class="col-md-4">
                        {# photo paramétrer dans config/services.yaml #}
							<img src="{{ asset('uploads/') ~ article.photo }}" class="img-fluid rounded-start img-card-custom" alt="{{article.title}}" style="height: 230px">
						</div>
						<div class="col-md-8">
							<div class="card-body">
								<h5 class="card-title">{{ article.title|length > 100 ? article.title|slice(0,100) ~ '...' : article.title }}</h5>
								<p class="card-text">{{ article.subtitle|length > 200 ? article.subtitle|slice(0,200) ~ '...' : article.subtitle }}</p>
                                </div>
                                	</div>
                                    <div class="row">
                                    <div class="col-12 text-center">
								<p class="card-text">
									<small class="text-muted">Dernière mise à jour le: {{ article.updatedAt | date('d/m/Y H:i:s') }}</small> |<span class="text-muted"> Auteur :</span>
								</p>
							</div>
                            </div>
                            <a href="{{ path('show_article', {'cat_alias': article.category.alias| lower, 'article_alias': article.alias| lower, 'id': article.id }) }}" class="btn btn-info">Voir article</a>
					
					</div>
				</div>

			</div>
		</div>
	{% endfor %}

{% endblock %}
